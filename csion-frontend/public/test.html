<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="mobile-web-app-capable" content="yes">
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Csion</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet" />
        <script src="https://kit.fontawesome.com/87e5d6a379.js" crossorigin="anonymous"></script>
        <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
        <link rel="icon" href="https://i.hizliresim.com/JWd7kY.png">
        <link rel="apple-touch-icon" href="https://i.hizliresim.com/7Q2VvY.jpg">
        <link rel="stylesheet" type="text/css" href="https://cdn2.hubspot.net/hubfs/1716276/embeddable_assessments/disc/disc_assessment_v1.1.0.css" />
        <div id="disc_assessment_root" data-api-token="ad0203ea7eace0838cbb67284a556057"></div>
        <script src="https://cdn2.hubspot.net/hubfs/1716276/embeddable_assessments/disc/disc_assessment_v1.1.0.js"></script>
    </head>
<body style="background-color: #539093; text-align: center;">
    
    <script>
    window.crystalKnowsDISCResponse = function (response) {

        //$("#disc_assessment_root").hide();
      $("#disc_assessment_root").after(`<form id = "responseForm">
      <img id= "personalityChart" style= "width: 300px; height:auto" src=` + response.images.disc_map + `>`);
        $("#personalityChart").after( `</ul><h4 id="pTitle">Overall Profile: </h4><ul class="mylist">`);
        response.content.profile.quality.forEach(element => {
            $("#pTitle").after(`<li>`+ element  +`</li>`);
        });
        $("#personalityChart").after( `</ul><h4 id="mTitle">This Personality's Motivations: </h4><ul class="mylist">`);
        response.content.motivation.phrase.forEach(element => {
            $("#mTitle").after(`<li>`+ element  +`</li> `);
        });
        $("#personalityChart").after( `</ul><h4 id="dTitle">This Personality's Drainer Qualities: </h4><ul class="mylist">`);
        response.content.drainer.quality.forEach(element => {
            $("#dTitle").after(`<li>`+ element  +`</li> `);
        });
        $("#personalityChart").after( `<h4 id="bTitle">This Personality's Behavior Phrases: </h4><ul class="mylist">`);
        response.content.behavior.phrase.forEach(element => {
            $("#bTitle").after(`<li>`+ element  +`</li> `);
        });
        $("#responseForm").append('</ul></form>');
        $("#responseForm").after(`<button id="cont" onClick= "window.location.href = 'http://localhost:1234/home.html'" style = "background-color:#ffffff; color:#64adb1; border-radius: 8px; padding: 10px 25px; display: inline-block; border: none; outline: none; font-family: 'Montserrat';">Continue</button>`);
        $.post("http://localhost:3000/userInfo", response, (data) => {
            if(data){
                console.log('Success');
            } else {
                console.log('Failed');
            }
        });
    }
  </script>

</body>
</html>
